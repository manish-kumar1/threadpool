
link_flags = ["-lpthread",]

thread_sanitizer_flags = ["-fsanitize=thread", "-pie", "-fPIE",]

copt_flags = ["-O3", "--std=c++2a", "-Wall", "-Wextra"]
#"-Wabi", "-Wabsolute-value", "-Waddress", "-Waddress-of-packed-member", "-Waggressive-loop-optimizations", "-Walloc-zero", "-Walloca", "-Wanalyzer-double-fclose", "-Wanalyzer-double-free", "-Wanalyzer-exposure-through-output-file", "-Wanalyzer-file-leak", "-Wanalyzer-free-of-non-heap", "-Wanalyzer-malloc-leak", "-Wanalyzer-null-argument", "-Wanalyzer-null-dereference", "-Wanalyzer-possible-null-argument", "-Wanalyzer-possible-null-dereference", "-Wanalyzer-stale-setjmp-buffer", "-Wanalyzer-tainted-array-index", "-Wanalyzer-too-complex", "-Wanalyzer-unsafe-call-within-signal-handler", "-Wanalyzer-use-after-free", "-Wanalyzer-use-of-pointer-in-stale-stack-frame", "-Warith-conversion", "-Warray-bounds", "-Wattribute-warning", "-Wattributes", "-Wbad-function-cast", "-Wbool-compare", "-Wbool-operation", "-Wbuiltin-declaration-mismatch", "-Wbuiltin-macro-redefined", "-Wc++-compat", "-Wc11-c2x-compat", "-Wc90-c99-compat", "-Wc99-c11-compat", "-Wcannot-profile", "-Wcast-align", "-Wcast-align=strict", "-Wcast-function-type", "-Wcast-qual", "-Wchar-subscripts", "-Wclobbered", "-Wcomment", "-Wconversion", "-Wcoverage-mismatch", "-Wcpp", "-Wdangling-else", "-Wdate-time", "-Wdeclaration-after-statement", "-Wdeprecated", "-Wdeprecated-declarations", "-Wdesignated-init", "-Wdisabled-optimization", "-Wdiscarded-array-qualifiers", "-Wdiscarded-qualifiers", "-Wdiv-by-zero", "-Wdouble-promotion", "-Wduplicate-decl-specifier", "-Wduplicated-branches", "-Wduplicated-cond", "-Wempty-body", "-Wendif-labels", "-Wenum-compare", "-Wenum-conversion", "-Wexpansion-to-defined", "-Wextra", "-Wfloat-conversion", "-Wfloat-equal", "-Wformat-contains-nul", "-Wformat-diag", "-Wformat-extra-args", "-Wformat-nonliteral", "-Wformat-security", "-Wformat-signedness", "-Wformat-y2k", "-Wformat-zero-length", "-Wframe-address", "-Wfree-nonheap-object", "-Whsa", "-Wif-not-aligned", "-Wignored-attributes", "-Wignored-qualifiers", "-Wimplicit", "-Wimplicit-function-declaration", "-Wimplicit-int", "-Wincompatible-pointer-types", "-Winit-self", "-Winline", "-Wint-conversion", "-Wint-in-bool-context", "-Wint-to-pointer-cast", "-Winvalid-memory-model", "-Winvalid-pch", "-Wjump-misses-init", "-Wlogical-not-parentheses", "-Wlogical-op", "-Wlong-long", "-Wlto-type-mismatch", "-Wmain", "-Wmaybe-uninitialized", "-Wmemset-elt-size", "-Wmemset-transposed-args", "-Wmisleading-indentation", "-Wmissing-attributes", "-Wmissing-braces", "-Wmissing-declarations", "-Wmissing-field-initializers", "-Wmissing-include-dirs", "-Wmissing-parameter-type", "-Wmissing-profile", "-Wmissing-prototypes", "-Wmultichar", "-Wmultistatement-macros", "-Wnarrowing", "-Wnested-externs", "-Wnonnull", "-Wnonnull-compare", "-Wnull-dereference", "-Wodr", "-Wold-style-declaration", "-Wold-style-definition", "-Wopenmp-simd", "-Woverflow", "-Woverlength-strings", "-Woverride-init", "-Woverride-init-side-effects", "-Wpacked", "-Wpacked-bitfield-compat", "-Wpacked-not-aligned", "-Wpadded", "-Wparentheses", "-Wpedantic", "-Wpointer-arith", "-Wpointer-compare", "-Wpointer-sign", "-Wpointer-to-int-cast", "-Wpragmas", "-Wprio-ctor-dtor", "-Wpsabi", "-Wredundant-decls", "-Wrestrict", "-Wreturn-local-addr", "-Wreturn-type", "-Wsequence-point", "-Wshadow", "-Wshadow=compatible-local", "-Wshadow=local", "-Wshift-count-negative", "-Wshift-count-overflow", "-Wshift-negative-value", "-Wsign-compare", "-Wsign-conversion", "-Wsizeof-array-argument", "-Wsizeof-pointer-div", "-Wsizeof-pointer-memaccess", "-Wstack-protector", "-Wstrict-prototypes", "-Wstring-compare", "-Wstringop-truncation", "-Wsuggest-attribute=cold", "-Wsuggest-attribute=const", "-Wsuggest-attribute=format", "-Wsuggest-attribute=malloc", "-Wsuggest-attribute=noreturn", "-Wsuggest-attribute=pure", "-Wsuggest-final-methods", "-Wsuggest-final-types", "-Wswitch", "-Wswitch-bool", "-Wswitch-default", "-Wswitch-enum", "-Wswitch-outside-range", "-Wswitch-unreachable", "-Wsync-nand", "-Wsystem-headers", "-Wtautological-compare", "-Wtraditional", "-Wtraditional-conversion", "-Wtrampolines", "-Wtrigraphs", "-Wtype-limits", "-Wundef", "-Wuninitialized", "-Wunknown-pragmas", "-Wunreachable-code", "-Wunsafe-loop-optimizations", "-Wunsuffixed-float-constants", "-Wunused", "-Wunused-but-set-parameter", "-Wunused-but-set-variable", "-Wunused-function", "-Wunused-label", "-Wunused-local-typedefs", "-Wunused-macros", "-Wunused-parameter", "-Wunused-result", "-Wunused-value", "-Wunused-variable", "-Wvarargs", "-Wvariadic-macros", "-Wvector-operation-performance", "-Wvla", "-Wvolatile-register-var", "-Wwrite-strings", "-Wzero-length-bounds"] + thread_sanitizer_flags
